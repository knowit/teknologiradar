name: 'Deploy website to AWS development environment'

on:
  push:
    branches: [688-github-actions-deploy-prod] # TODO: change to main

jobs:
  install-and-deploy-dev:
    uses: ./.github/workflows/reusable-install-and-deploy.yml
    secrets:
      cdk_default_account: ${{ secrets.DEV_CDK_DEFAULT_ACCOUNT }}
      cdk_default_region: ${{ secrets.CDK_DEFAULT_REGION }}
      aws_access_key_id: ${{ secrets.DEV_AWS_ACCESS_KEY_ID }}
      aws_secret_access_key: ${{ secrets.DEV_AWS_SECRET_ACCESS_KEY }}
      aws_session_token: ${{ secrets.DEV_AWS_SESSION_TOKEN }}
